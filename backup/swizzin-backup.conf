#===============================================================================
# Swizzin Backup Configuration (BorgBackup)
# Location: /etc/swizzin-backup.conf
#
# This file is sourced by swizzin-backup.sh and swizzin-restore.sh
# All BORG_* variables are exported automatically by the scripts
#===============================================================================

#===============================================================================
# BORG REPOSITORY (REQUIRED)
#===============================================================================

# Remote borg repository (any SSH-accessible borg server)
# Examples: Hetzner Storage Box, Rsync.net, BorgBase, self-hosted NAS/VPS
BORG_REPO="ssh://user@hostname:port/./path/to/repo"

# Passphrase handling
BORG_PASSCOMMAND="cat /root/.borg-passphrase"

# SSH configuration
BORG_RSH="ssh -i /root/.ssh/id_storagebox -o BatchMode=yes -o ServerAliveInterval=30 -o ServerAliveCountMax=3"

# Remote borg version (adjust for your server, e.g., borg-1.4, borg-1.2, or just "borg")
BORG_REMOTE_PATH="borg-1.4"

#===============================================================================
# SWIZZIN (REQUIRED)
#===============================================================================

# Primary Swizzin user (set to your Swizzin username)
SWIZZIN_USER=""

# Zurg installation directory (paid zurg)
ZURG_DIR="/home/${SWIZZIN_USER}/.config/zurg"

#===============================================================================
# HEALTHCHECKS (OPTIONAL)
# Ping healthchecks.io on start/success/failure
#===============================================================================

HC_UUID=""

#===============================================================================
# NOTIFICATIONS (OPTIONAL)
# All configured providers fire simultaneously
#===============================================================================

# Discord webhook URL
DISCORD_WEBHOOK=""

# Pushover (both required)
PUSHOVER_USER=""
PUSHOVER_TOKEN=""

# Notifiarr passthrough API key
NOTIFIARR_API_KEY=""

# Email (requires sendmail or mail command)
EMAIL_TO=""

#===============================================================================
# RETENTION (OPTIONAL — defaults shown)
#===============================================================================

KEEP_DAILY=7
KEEP_WEEKLY=4
KEEP_MONTHLY=6
KEEP_YEARLY=2

#===============================================================================
# SERVICE MANAGEMENT (OPTIONAL)
#===============================================================================

# Which services to stop during backup:
#   "all"      — Stop all services (maximum consistency, more downtime)
#   "critical" — Only stop SQLite-backed services (arr apps, tautulli, etc.)
#   "none"     — Don't stop any services (fastest, risk of inconsistent DBs)
STOP_MODE="critical"

#===============================================================================
# PROGRESS (OPTIONAL)
#===============================================================================

# Seconds between "still alive" log messages during backup (0 = disable)
PROGRESS_INTERVAL=60

#===============================================================================
# SYMLINKS SIZE LIMIT (OPTIONAL)
#===============================================================================

# Skip files in /mnt/symlinks larger than this (MB, 0 = no limit)
SYMLINKS_SIZE_LIMIT=100

#===============================================================================
# PATHS (OPTIONAL — defaults shown)
#===============================================================================

# LOCKFILE="/var/run/swizzin-backup.lock"
# LOGFILE="/var/log/swizzin-backup.log"
# EXCLUDES_FILE="/etc/swizzin-excludes.txt"
# STOPPED_SERVICES_FILE="/var/run/swizzin-stopped-services.txt"
