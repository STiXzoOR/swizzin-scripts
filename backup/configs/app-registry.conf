# ============================================
# SWIZZIN APP REGISTRY
# ============================================
# Maps installed apps to their file paths for backup.
#
# Format: APP|CONFIG_PATHS|DATA_PATHS|EXCLUDES|TYPE
#
# - APP: App name (matches lock file without .lock)
# - CONFIG_PATHS: Comma-separated config paths (supports wildcards)
# - DATA_PATHS: Comma-separated data/binary paths
# - EXCLUDES: Comma-separated exclude patterns for this app
# - TYPE: arr, mediaserver, binary, python, custom, core
#
# Special prefixes:
# - DYNAMIC:xxx = resolved at runtime via function
# - SWIZDB:key = read from swizdb
#
# Wildcards:
# - * matches any characters in a path segment
# - ** matches any path depth
# - <user> is replaced with discovered usernames

# === CORE SWIZZIN (always backed up) ===
_swizzin|/opt/swizzin/,/etc/swizzin/||panel_icons/*|core
_swizdb|/opt/swizzin/db/|||core
_nginx|/etc/nginx/|||core
_letsencrypt|/etc/letsencrypt/|||core
_systemd|/etc/systemd/system/*.service,/etc/systemd/system/*.timer|||core
_cron|/etc/cron.d/*,/var/spool/cron/crontabs/*|||core
_install|/install/|||core
_hosts|/etc/hosts|||core
_fuse|/etc/fuse.conf|||core
_cacerts|/usr/local/share/ca-certificates/|||core
_panel|/opt/swizzin/core/custom/profiles.py|||core
_userssl|/home/*/.ssl/|||core

# === *ARR APPS ===
# Base installations (capitalized config dirs)
sonarr|/home/*/.config/Sonarr/|/opt/Sonarr/|*.pid,logs/*,Backups/*,MediaCover/*,Updates/*|arr
radarr|/home/*/.config/Radarr/|/opt/Radarr/|*.pid,logs/*,Backups/*,MediaCover/*,Updates/*|arr
lidarr|/home/*/.config/Lidarr/|/opt/Lidarr/|*.pid,logs/*,Backups/*,MediaCover/*,Updates/*|arr
readarr|/home/*/.config/Readarr/|/opt/Readarr/|*.pid,logs/*,Backups/*,MediaCover/*,Updates/*|arr
prowlarr|/home/*/.config/Prowlarr/|/opt/Prowlarr/|*.pid,logs/*,Backups/*,Updates/*|arr
bazarr|/home/*/.config/Bazarr/|/opt/Bazarr/,/opt/.venv/bazarr/|*.pid,cache/*,logs/*,Backups/*|arr

# Multi-instance pattern (lowercase with dash, discovered from lock files)
# sonarr_* → /home/*/.config/sonarr-<instance>/
# radarr_* → /home/*/.config/radarr-<instance>/

# === MEDIA SERVERS ===
plex|/var/lib/plexmediaserver/Library/Application Support/Plex Media Server/||Cache/*,Codecs/*,Crash Reports/*,*.bif,Plug-in Support/Caches/*|mediaserver
emby|/var/lib/emby/||cache/*,transcodes/*,data/transcodes/*|mediaserver
jellyfin|/var/lib/jellyfin/,/etc/jellyfin/||cache/*,transcodes/*,log/*|mediaserver

# === CUSTOM APPS (from swizzin-scripts repo) ===
notifiarr|/home/*/.config/Notifiarr/|/usr/bin/notifiarr|logs/*|binary
decypharr|/home/*/.config/Decypharr/,DYNAMIC:decypharr_downloads|/usr/bin/decypharr||binary
zurg|/home/*/.config/zurg/,/home/*/.config/rclone/rclone.conf|/usr/bin/zurg|data/rclone-cache/*,data/cache/*|binary
cleanuparr|/opt/cleanuparr/config/|/opt/cleanuparr/||binary
huntarr|/home/*/.config/Huntarr/|/opt/huntarr/||python
byparr|/home/*/.config/Byparr/|/opt/byparr/||python
subgen|/home/*/.config/Subgen/|/opt/subgen/||python
seerr|/home/*/.config/Seerr/|/opt/seerr/|logs/*|python
organizr|/srv/organizr/,/opt/swizzin-extras/organizr-auth.conf,/etc/nginx/snippets/organizr-*.conf|||custom
flaresolverr|/opt/flaresolverr/|||python

# === DOWNLOAD CLIENTS ===
transmission|/home/*/.config/transmission-daemon/|||download
deluge|/home/*/.config/deluge/|||download
qbittorrent|/home/*/.config/qBittorrent/|||download
rtorrent|/home/*/.rtorrent.rc,/home/*/.config/rtorrent/|||download
nzbget|/home/*/.config/nzbget/|||download
sabnzbd|/home/*/.sabnzbd/|||download

# === OTHER APPS ===
tautulli|/opt/tautulli/|||custom
ombi|/opt/Ombi/|||custom
jackett|/home/*/.config/Jackett/|/opt/Jackett/||custom
autobrr|/home/*/.config/autobrr/|||custom
syncthing|/home/*/.config/syncthing/|||custom
filebrowser|/home/*/.config/filebrowser/|||custom
nextcloud|/var/www/nextcloud/,/var/lib/nextcloud/||data/*|custom
calibre|/home/*/.config/calibre/,/opt/calibre/|||custom
calibreweb|/opt/calibre-web/|||custom
mylar|/opt/mylar/|||custom
lazylibrarian|/opt/lazylibrarian/|||custom
headphones|/opt/headphones/|||custom
sickchill|/opt/sickchill/|||custom
medusa|/opt/medusa/|||custom

# === WATCHDOG ===
_watchdog|/opt/swizzin-extras/watchdog.sh,/opt/swizzin-extras/watchdog.conf,/opt/swizzin-extras/watchdog.d/|||core

# === DYNAMIC PATHS ===
# *arr root folders with symlinks (discovered from SQLite)
_arr_roots|DYNAMIC:arr_root_folders|||symlinks
